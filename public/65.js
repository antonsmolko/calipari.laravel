(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{139:function(t,e,n){"use strict";var i=n(2),r=n(93);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=n.n(r)()((function(t){return t()}),500),u={name:"setting-input",props:{title:String,name:String,value:String,onSave:Function,timeout:{type:Number,default:500},type:{type:String,default:"text"},icon:{type:String,default:null}},data:function(){return{inputValue:"",onEdit:!1,updateTimeout:null}},methods:o(o({},Object(i.b)({updateAction:"settings/setTextValue"})),{},{onInputChange:function(t){this.inputValue=t.trim(),c(this.onUpdate)},onUpdate:function(){this.updateAction({key_name:this.name,value:this.inputValue})}}),created:function(){this.inputValue=this.value}},l=n(0),d=Object(l.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item"},[n("h4",{staticClass:"card-title"},[t._v(t._s(t.title))]),t._v(" "),n("md-field",[t.icon?n("md-icon",[t._v(t._s(t.icon))]):t._e(),t._v(" "),n("md-input",{attrs:{name:t.name,value:t.value,type:t.type,placeholder:"Заполните поле "+t.title},on:{input:t.onInputChange}})],1)],1)])}),[],!1,null,null,null);e.a=d.exports},204:function(t,e,n){var i=n(11),r=n(509);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var a={insert:"head",singleton:!1};i(r,a);t.exports=r.locals||{}},388:function(t,e,n){var i=n(94);t.exports=function(){return i.Date.now()}},508:function(t,e,n){"use strict";var i=n(204);n.n(i).a},509:function(t,e,n){(t.exports=n(16)(!1)).push([t.i,".md-card {\n  margin-top: 50px;\n}\n.width-medium {\n  width: 350px;\n}",""])},683:function(t,e,n){"use strict";n.r(e);var i=n(2),r=n(139),a=n(9),o=n.n(a),s=n(51),c=n(138);function u(t,e,n,i,r,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(i,r)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m={name:"setting-image",components:{ResourceImage:s.a},mixins:[c.a],props:{title:String,name:String,value:{type:String,default:""},type:{default:"file",type:String}},data:function(){return{imageData:"",width:1600,height:1200}},methods:d(d({},Object(i.b)({updateAction:"settings/setImageValue",addNotificationAction:"addNotification"})),{},{onFileChange:function(t){var e,n=this;return(e=o.a.mark((function e(){var i,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t.target.files||t.dataTransfer.files).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.processImage(i[0],n.width,n.height);case 5:r=e.sent,a=r.preview,s=r.image,n.imageData=a,n.updateAction({key_name:n.name,value:s});case 10:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(t){u(a,i,r,o,s,"next",t)}function s(t){u(a,i,r,o,s,"throw",t)}o(void 0)}))})()}})},f=n(0),v=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item"},[n("h4",{staticClass:"card-title"},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"file-input"},[t.imageData?n("div",{staticClass:"image-container"},[n("img",{attrs:{src:t.imageData,alt:""}})]):n("div",[n("div",{staticClass:"image-container"},[t.value?n("resource-image",{attrs:{name:t.value,width:400,alt:""}}):n("img",{attrs:{src:t.$config.imagePlaceholder,alt:""}})],1)]),t._v(" "),n("div",{staticClass:"button-container"},[n("md-button",{staticClass:"md-success md-just-icon md-fileinput"},[[n("md-icon",[t._v("add_photo_alternate")]),t._v(" "),n("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("Выберите изображение")])],t._v(" "),n("input",{attrs:{type:t.type,name:t.name},on:{change:t.onFileChange}})],2)],1)])])])])}),[],!1,null,null,null).exports,g=n(5);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O={name:"SettingList",components:{SettingInput:r.a,SettingImage:v},mixins:[g.b,g.a],data:function(){return{responseData:!1}},computed:b({},Object(i.d)("settingGroups",{settingGroups:function(t){return t.items}})),methods:b({},Object(i.b)({getItemsWithSettingsAction:"settingGroups/getItemsWithSettings"})),created:function(){var t=this;this.getItemsWithSettingsAction().then((function(){t.setPageTitle("Конфигурация"),t.responseData=!0})).catch((function(){return t.$router.push({name:"admin.dashboard"})}))}},j=(n(508),Object(f.a)(O,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.responseData?n("div",{staticClass:"md-layout"},[n("div",{staticClass:"md-layout-item"},[n("md-card",{staticClass:"mt-0"},[n("md-card-content",{staticClass:"md-between"},[n("router-button-link",{attrs:{title:"В панель управления"}}),t._v(" "),t.authCheck("settings/administration")?n("router-button-link",{attrs:{title:"Администрирование",icon:"settings",color:"md-success",to:{name:"cms.settings.administration"}}}):t._e()],1)],1),t._v(" "),t.settingGroups.length?t._l(t.settingGroups,(function(e,i){return n("div",{key:i},[n("md-card",[n("md-card-header",{staticClass:"md-card-header-text md-card-header-green"},[n("div",{staticClass:"card-text"},[n("h4",{staticClass:"title"},[t._v(t._s(e.title))])])]),t._v(" "),n("md-card-content",[n("div",{staticClass:"md-layout md-gutter"},t._l(e.settings,(function(t,e){return n("div",{key:e,staticClass:"md-layout-item md-size-25 md-large-size-33 md-medium-size-50 md-xsmall-size-100"},["file"===t.type?n("setting-image",{attrs:{title:t.display_name,name:t.key_name,value:t.value,type:t.file}}):n("setting-input",{attrs:{title:t.display_name,name:t.key_name,value:t.value}})],1)})),0)])],1)],1)})):[t._m(0)]],2)]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"alert alert-info"},[e("span",[e("h3",[this._v("Пока нет настроек сайта!")])])])}],!1,null,null,null));e.default=j.exports},93:function(t,e,n){var i=n(136),r=n(388),a=n(289),o=Math.max,s=Math.min;t.exports=function(t,e,n){var c,u,l,d,p,m,f=0,v=!1,g=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var n=c,i=u;return c=u=void 0,f=e,d=t.apply(i,n)}function y(t){return f=t,p=setTimeout(j,e),v?b(t):d}function O(t){var n=t-m;return void 0===m||n>=e||n<0||g&&t-f>=l}function j(){var t=r();if(O(t))return _(t);p=setTimeout(j,function(t){var n=e-(t-m);return g?s(n,l-(t-f)):n}(t))}function _(t){return p=void 0,h&&c?b(t):(c=u=void 0,d)}function w(){var t=r(),n=O(t);if(c=arguments,u=this,m=t,n){if(void 0===p)return y(m);if(g)return clearTimeout(p),p=setTimeout(j,e),b(m)}return void 0===p&&(p=setTimeout(j,e)),d}return e=a(e)||0,i(n)&&(v=!!n.leading,l=(g="maxWait"in n)?o(a(n.maxWait)||0,e):l,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==p&&clearTimeout(p),f=0,c=m=u=p=void 0},w.flush=function(){return void 0===p?d:_(r())},w}}}]);